<!DOCTYPE html>
<html lang="en-us">
  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">


  <title>
    
      博客修护笔记 &middot; erica's playground
    
  </title>
  

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/yixuan.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="/public/css/form.css">
  <link rel="stylesheet" href="/public/css/googleapifont.css">


  <!-- Icons -->
  <link rel="shortcut icon" href="./public/favicon.png">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
  <link rel="alternate" type="application/rss+xml" title="Mozilla RSS" href="feed.category.xml">
</head>
 <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', '', 'auto');
  ga('send', 'pageview');

</script>


  <body class="theme-6dd">
    <!-- Target for toggling the sidebar `.sidebar-checkbox` is for regular
     styles, `#sidebar-checkbox` for behavior. -->
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">

<!-- Toggleable sidebar -->
<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
      <img width="125" height="125" alt="A photo" src="/images/head.jpeg">
    <p>未来从现实生长.</p>
  </div>

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item" href="/">博客首页</a>

    

    
    
      
        
      
    
      
        
      
    
      
        
          <a class="sidebar-nav-item" href="/allposts">文章索引</a>
        
      
    
      
    
      
    
      
    
      
    
      
        
          <a class="sidebar-nav-item" href="/zabout">关于我</a>
        
      
    

    <a class="sidebar-nav-item" href="https://github.com/ericazhan/ericazhan.github.io" target="_blank">GitHub project</a>
    <span class="sidebar-nav-item">Version 3.0</span>
  </nav>

  <div class="sidebar-item">
    <p>
      &copy; 2020. All rights reserved.
    </p>
  </div>
</div>


    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <div class="container parent-div">
            <div class="container child-div">
              <h3 class="masthead-title">
                <a href="/" title="Home">erica's playground</a>
                <small>share my work</small>
              </h3>
            </div>
            <div class="container" id="search">
              <div class="search-container">
                <input
                  type="text"
                  id="search-input"
                  placeholder="search blog posts..."
                />
                <div class="search"></div>
                <ul id="results-container"></ul>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="container content"><div class="post">
  <h1 class="post-title">博客修护笔记</h1>
  <span class="post-date">24 Nov 2020</span>
  <p>如何修改GitHub page中每篇博客的链接？如何加入全文搜索功能？如何把fork来的仓库之前的commit都清零？</p>

<h2 id="修改文章post链接地址">修改文章post链接地址</h2>

<p>jekyll默认为博客配置的地址实在有些长，比如本文曾经默认的链接地址是<strong>/2020/11/24/improve_jekyll_pages</strong>。这么多层叠加，不利于搜索引擎寻找都该页面。所以为了方便搜索，所谓SEO优化。</p>

<p>一是修改博客链接。</p>

<p>博客的地址是采用<code class="language-plaintext highlighter-rouge">permalink</code>设置的。参考官网 <a href="https://jekyllrb.com/docs/permalinks/">Permalinks_Jekyll</a>。</p>

<p>只要在根目录下的<code class="language-plaintext highlighter-rouge">_config.yml</code>文件中，写上一行<code class="language-plaintext highlighter-rouge">permalink: /:title.html</code>。中间有一个空格。</p>

<p>另外可以在每个博客页面的前面，加一个description.</p>

<h2 id="加入全文搜索功能">加入全文搜索功能</h2>

<p>使用的现成的代码仓库在这里：<a href="https://github.com/christian-fei/Simple-Jekyll-Search">Simple-Jekyll-Search</a></p>

<p>ref. <a href="https://lemonchann.github.io/create_blog_with_github_pages/">可能是最全面的github pages搭建个人博客教程</a></p>

<p>设计样式挑选自<a href="https://www.mockplus.com/blog/post/search-bar-design">20 Creative Search Bar Design</a>，照抄代码在<a href="https://codepen.io/AlbertFeynman/pen/BPvzWZ">这里</a></p>

<h2 id="将所有之前别人的commits都清零">将所有之前别人的commits都清零</h2>

<p>保持现在博客状态，但是如何把commit历史清零？以下是安全做法：
<a href="https://stackoverflow.com/questions/13716658/how-to-delete-all-commit-history-in-github">git - how to delete all commit history in github? - Stack Overflow</a></p>

<ul>
  <li>
    <ol>
      <li>新建一个孤子分支，并进入这个分支</li>
    </ol>

    <p><code class="language-plaintext highlighter-rouge">git checkout --orphan temp_branch</code></p>
  </li>
  <li>
    <ol>
      <li>在孤子分支中复制所有master分支的文件，commit</li>
    </ol>

    <p><code class="language-plaintext highlighter-rouge">git add -A</code>
  <code class="language-plaintext highlighter-rouge">git commit -am "my first message"</code></p>
  </li>
  <li>
    <ol>
      <li>删除原本的master分支</li>
    </ol>

    <p><code class="language-plaintext highlighter-rouge">git branch -D master</code></p>
  </li>
  <li>
    <ol>
      <li>把孤子分支改名为master</li>
    </ol>

    <p><code class="language-plaintext highlighter-rouge">git branch -m master</code></p>
  </li>
  <li>
    <ol>
      <li>强制更新远端仓库</li>
    </ol>

    <p><code class="language-plaintext highlighter-rouge">git push -f origin master</code></p>
  </li>
</ul>

<h2 id="changelog">Changelog</h2>

<ul>
  <li>201124 erica init</li>
</ul>
 <br>
	
["web", "code"] <br>

  <a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/4.0/">
    <img alt="知识共享许可协议" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-nd/4.0/80x15.png" /></a>
    本作品采用 <a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/4.0/">CC BY-NC-ND</a> 进行许可.
    如需转载, 请标明 <b style = "color:#ca4d4d">ericazhan</b> + <b style = "color:#ca4d4d">源地址</b> 
<br> <br>
  <img width="50" height="50" alt="Glider" src="/images/glider.png" >
  <p>
  <em>Too fast to live.</em>
  </p>
</div>

<!--这个地方可以放 utterances -->

<script src="https://utteranc.es/client.js"
        repo="ericazhan/ericazhan.github.io"
        issue-term="pathname"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script>

<!--这个地方可以放 utterances -->


<div class="comments">
    <div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES * * */
    var disqus_shortname = '';
    
    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>

<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES * * */
    var disqus_shortname = '';
    
    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>

</div>


<div class="related">
  <h3>近日文章</h3>
  <ul class="related-posts">
    
      <li>
        <strong>
			<i><a href="/200809How2_flypy.html">
            开始双拼
            <small>09 Aug 2020</small>
			</a></i>
        </strong>
      </li>
    
  </ul>
</div>
</div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>

    <script>
          (function(document) {
            var toggle = document.querySelector('.sidebar-toggle');
            var sidebar = document.querySelector('#sidebar');
            var checkbox = document.querySelector('#sidebar-checkbox');

            document.addEventListener('click', function(e) {
              var target = e.target;

              if(!checkbox.checked ||
                  sidebar.contains(target) ||
                  (target === checkbox || target === toggle)) return;

              checkbox.checked = false;
            }, false);
          })(document);
    </script>

<script src="../public/simple-jekyll-search.min.js"></script>

    <script >
       window.simpleJekyllSearch = new SimpleJekyllSearch({
            searchInput: document.getElementById('search-input'),
            resultsContainer: document.getElementById('results-container'),
            json: '../public/search.json',
            searchResultTemplate: '<li><a href="{url}?query={query}" title="{desc}">{title}</a></li>',
            noResultsText: 'No results found',
            limit: 10,
            fuzzy: false,
            exclude: ['Welcome']
            })
    </script>

<!-- -->

        <div align="center" class="footer">
      <a href="https://github.com/orderchaos3000/orderchaos3000.github.io" target="_blank"><span style="color:#ca4d4d;">thinshadered
      </span></a> is designed by 阿宁 , based on <a href="https://github.com/YixuanFranco/yixuanfranco.github.io" target="_blank"> 
        <span style="color:green;">Yixuan Franco </span></a>  <br />Copyright © from 2017 - 2020 
        <br><a href="/rss.xml">RSS 订阅本博客</a>
    </div>
  </body>
</html>

  </body>
</html>
